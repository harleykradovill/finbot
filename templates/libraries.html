<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Borealis | Libraries</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/site.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/libraries.css') }}"
    />
  </head>
  <body>
    <div class="app-shell">
      {% include '_sidebar.html' %}
      <main id="content" class="content" tabindex="-1" role="main">
        <section class="hero" style="max-width: 1500px; margin: 1.5rem auto">
          <h1 style="margin: 0 0 0.5rem 0">Libraries</h1>
          <p
            class="subtitle"
            style="margin: 0 0 1rem 0; color: var(--text-muted)"
          >
            Per-library media totals and playback summary.
          </p>

          <div id="libraries-empty" class="settings-placeholder" hidden>
            <p>No libraries found.</p>
          </div>

          <div id="libraries-container" hidden>
            <table
              id="libraries-table"
              class="table"
              style="width: 100%; border-collapse: collapse"
            >
              <thead>
                <tr>
                  <th style="text-align: left; padding: 0.5rem">Name</th>
                  <th style="text-align: left; padding: 0.5rem">Type</th>
                  <th style="text-align: right; padding: 0.5rem">Total time</th>
                  <th style="text-align: right; padding: 0.5rem">Files</th>
                  <th style="text-align: right; padding: 0.5rem">Size</th>
                  <th style="text-align: right; padding: 0.5rem">
                    Total plays
                  </th>
                  <th style="text-align: right; padding: 0.5rem">
                    Total playback
                  </th>
                  <th style="text-align: left; padding: 0.5rem">Last played</th>
                </tr>
              </thead>
              <tbody id="libraries-tbody"></tbody>
            </table>
          </div>
        </section>
        <div id="charts-hbox">
          <div class="libraries-chart-group">
            <div class="chart-card">
              <h1>Files</h1>
              <canvas
                id="files-doughnut"
                width="360"
                height="360"
                role="img"
              ></canvas>

              <div
                id="libraries-chart-empty-files"
                class="settings-placeholder"
                hidden
              >
                <p>No data to display.</p>
              </div>
            </div>
          </div>

          <div class="libraries-chart-group">
            <div class="chart-card">
              <h1>Plays</h1>
              <canvas
                id="plays-doughnut"
                width="360"
                height="360"
                role="img"
              ></canvas>

              <div
                id="libraries-chart-empty-plays"
                class="settings-placeholder"
                hidden
              >
                <p>No data to display.</p>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <div id="toast-container" class="toast-container" role="status"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../static/js/libraries.js"></script>
  </body>
</html>
